<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="manifest" href="manifest.webmanifest">
<title>おでかけ天気ナビ｜スポット</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="top">
  <div class="title">スポット検索</div>
  <button id="addToHome" class="primary"><span class="icon">+</span> ホームに追加</button>
</header>

<main>
  <section class="card controls">
    <div class="row">
        <label for="region">地域：</label>
        <input id="region" list="region-options" value="現在地（GPS）">
        <datalist id="region-options">
          <option value="現在地（GPS）" data-key="current"></option>
          <option value="大阪・江坂" data-key="esaka"></option>
          <option value="京都市" data-key="kyoto"></option>
          <option value="神戸市" data-key="kobe"></option>
          <option value="さいたま市大宮区" data-key="omiya"></option>
          <option value="福島市" data-key="fukushima"></option>
        </datalist>
      </div>

    <details id="filters" class="filter" style="margin-top:8px">
      <summary id="filterSummary">条件（タップで開く）</summary>
      <div class="row" style="margin-top:8px">
        <label>車で</label>
        <input type="number" id="driveMin" min="5" max="90" step="5" value="20"> 分以内
        <select id="speedProfile">
          <option value="slow">ゆっくり(25km/h)</option>
          <option value="normal" selected>普通(35km/h)</option>
          <option value="fast">速め(50km/h)</option>
        </select>
      </div>
      <div class="row" style="margin-top:8px">
        <label>屋内: <input type="number" id="prio-indoor" min="1" max="5" value="1"></label>
        <label>木陰: <input type="number" id="prio-shade" min="1" max="5" value="2"></label>
        <label>水辺: <input type="number" id="prio-water" min="1" max="5" value="3"></label>
        <label>ベンチ: <input type="number" id="prio-seating" min="1" max="5" value="2"></label>
        <label>匂い少: <input type="number" id="prio-lowodor" min="1" max="5" value="1"></label>
      </div>
    </details>

    <div class="row" style="margin-top:8px">
      <button id="searchSpots" class="primary">スポット検索</button>
      <button id="resetFilters">条件リセット</button>
    </div>
  </section>

  <section class="card">
    <h3>おすすめスポット（上位10件）</h3>
    <ul id="spots" class="spots"></ul>
    <small class="note">※Overpass APIから自動取得。カードのボタンでマップやお気に入り登録ができます。</small>
  </section>
</main>

<nav class="tabbar">
  <a href="index.html">天気</a>
  <a href="spots.html" class="active">スポット</a>
  <a href="meals.html">たべる</a>
  <a href="favorites.html">お気に入り</a>
</nav>

<script src="utils.js"></script>
<script src="gmaps_helper.js"></script>
<script src="spots.js"></script>
<script>if("serviceWorker" in navigator){navigator.serviceWorker.register("./sw-v12.js");}</script>
</body>
</html>
