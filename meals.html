<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<link rel="manifest" href="manifest.webmanifest">
<title>おでかけ天気ナビ｜たべる（妊娠配慮）</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="top">
  <div class="title">たべる（妊娠配慮）</div>
  <button id="addToHome" class="primary"><span class="icon">+</span> ホームに追加</button>
</header>

<main>
  <section class="card">
    <div class="row">
        <label for="region">地域：</label>
        <input id="region" list="region-options" value="現在地（GPS）">
        <datalist id="region-options">
          <option value="現在地（GPS）" data-key="current"></option>
          <option value="大阪・江坂" data-key="esaka"></option>
          <option value="京都市" data-key="kyoto"></option>
          <option value="神戸市" data-key="kobe"></option>
          <option value="さいたま市大宮区" data-key="omiya"></option>
          <option value="福島市" data-key="fukushima"></option>
        </datalist>
        <label>車で</label><input type="number" id="driveMin" min="5" max="60" step="5" value="15"> 分以内
      <select id="speedProfile"><option value="slow">ゆっくり(25km/h)</option><option value="normal" selected>普通(35km/h)</option><option value="fast">速め(50km/h)</option></select>

      <label for="sortBy">並び替え：</label>
      <select id="sortBy" title="並び替え">
        <option value="score" selected>おすすめ順</option>
        <option value="distance">距離が近い順</option>
        <option value="open">営業中を優先</option>
      </select>

      <label style="margin-left:8px;"><input type="checkbox" id="openOnly"> 開店中のみ</label>

      <button id="search" class="primary">検索</button>
    </div>
  </section>

  <section class="card">
    <details id="filters">
      <summary id="filterSummary">詳細条件（タップで開く）</summary>
      <div class="row" style="margin-top:8px">
        <label><input type="checkbox" class="cat" value="japanese" checked> 和食</label>
        <label><input type="checkbox" class="cat" value="noodles" checked> 麺類（うどん/そば/ラーメン）</label>
        <label><input type="checkbox" class="cat" value="cafe" checked> カフェ/甘味</label>
        <label><input type="checkbox" class="cat" value="bakery" checked> ベーカリー</label>
        <label><input type="checkbox" class="cat" value="family"> ファミレス</label>
      </div>
      <div class="row" style="margin-top:8px">
        <label><input type="checkbox" class="pref" value="low_odor" checked> 匂い弱め優先</label>
        <label><input type="checkbox" class="pref" value="mild_spicy" checked> 辛さ控えめ優先</label>
      </div>
      <div class="row" style="margin-top:8px">
        <label><input type="checkbox" class="avoid" value="raw_fish" checked> 生魚・貝は避ける</label>
        <label><input type="checkbox" class="avoid" value="raw_egg" checked> 生卵は避ける</label>
        <label><input type="checkbox" class="avoid" value="alcohol" checked> アルコール中心を避ける</label>
        <label><input type="checkbox" class="avoid" value="soft_cheese" checked> ナチュラルチーズは要注意</label>
        <label><input type="checkbox" class="avoid" value="high_mercury"> 高水銀魚は避ける</label>
        <label><input type="checkbox" class="avoid" value="deli_meat"> デリミート/低温調理は避ける</label>
      </div>
      <div class="row" style="margin-top:8px">
        キーワード除外：<input type="text" id="exclude" placeholder="例）寿司, 刺身, 生, 激辛">
        <button id="resetFilters" style="margin-left:auto">条件リセット</button>
      </div>
      <div class="note" style="margin-top:8px">※ 一般的な目安での絞り込みです。最終判断は医療者の指示に従ってください。</div>
    </details>
  </section>

  <section class="card">
    <h3>候補（上位10件）</h3>
    <ul id="list" class="list"></ul>
  </section>
</main>

  <nav class="tabbar">
    <a href="index.html"><span class="icon">⛅</span><span class="label">天気</span></a>
    <a href="spots.html"><span class="icon">📍</span><span class="label">スポット</span></a>
    <a href="meals.html" class="active"><span class="icon">🍽</span><span class="label">たべる</span></a>
    <a href="favorites.html"><span class="icon">⭐</span><span class="label">お気に入り</span></a>
  </nav>

<script src="utils.js"></script>
<script src="gmaps_helper.js"></script>
<script src="meals.js"></script>
<script>if("serviceWorker" in navigator){navigator.serviceWorker.register("./sw-v12.js");}</script>
</body>
</html>
